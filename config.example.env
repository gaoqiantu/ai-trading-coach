# ===== Bitget (READ-ONLY) =====
# IMPORTANT:
# - Use an API key with READ permissions only.
# - Do NOT grant trade/withdraw permissions.
BITGET_API_KEY=your_key_here
BITGET_API_SECRET=your_secret_here
BITGET_API_PASSWORD=your_passphrase_here

# Optional base URL (default: https://api.bitget.com)
BITGET_BASE_URL=https://api.bitget.com

# Use Bitget REST fills (recommended if you MUST show long/short).
# 1 = REST (fills + order detail posSide), 0 = ccxt fetch_my_trades fallback
BITGET_USE_REST_FILLS=1

# Bitget product type for mix contracts
BITGET_PRODUCT_TYPE=USDT-FUTURES

# ===== Scope =====
# Comma-separated list. Example: BTC/USDT:USDT,ETH/USDT:USDT
# If empty, the app will auto-detect ALL USDT perpetual markets and fetch per-symbol (slower).
SYMBOLS=
# Safety cap when auto-detecting markets (0 means no cap)
MAX_SYMBOLS=0

# ===== Storage =====
DATA_DIR=./data
SQLITE_PATH=./data/ai_trading_coach.sqlite3

# ===== Discord =====
DISCORD_WEBHOOK_URL=
DISCORD_USERNAME=ViperCoach

# ===== LLM (OpenAI-compatible) =====
# Your FastAPI endpoint is OpenAI-compatible. Example:
# https://space.ai-builders.com/backend/v1
LLM_BASE_URL=https://space.ai-builders.com/backend/v1
LLM_API_KEY=your_llm_api_key_here
# Model name depends on your backend. Keep it configurable.
LLM_MODEL=gpt-5

# ===== Scheduling =====
# NOTE: Review schedules are defined in US/Eastern per your spec.
TIMEZONE=America/New_York

# Run scheduler jobs inside the API process (single service / single port).
# 1 = enable APScheduler (daily/weekly/monthly), 0 = API only
ENABLE_SCHEDULER=0

# Daily review at 23:00 US/Eastern
DAILY_AT=23:00

# Weekly review every Saturday 23:00 US/Eastern
WEEKLY_DOW=sat
WEEKLY_AT=23:00

# Monthly review: last day of month 23:00 US/Eastern (implemented as a daily job with "is last day" check)
MONTHLY_AT=23:00

# ===== Reporting lookback windows =====
DAILY_LOOKBACK_DAYS=1
WEEKLY_LOOKBACK_DAYS=7
MONTHLY_LOOKBACK_DAYS=30

# ===== Discipline rules (optional) =====
RULES_PATH=./rules.yaml

# ===== Sync knobs (optional) =====
# Reset local DB tables for lifecycles + caches (careful: deletes local data)
SYNC_RESET=0

# Lookback window (days) to avoid missing fills if the app didn't run for a while.
SYNC_LOOKBACK_DAYS=7

# Testing only: stop after N lifecycles saved (0 = no limit)
SYNC_STOP_AFTER_LIFECYCLES=0

# ccxt mode only:
SYNC_LIMIT=500
SYNC_MAX_PAGES=40

# REST mode knobs (to avoid "hang" / huge backfills):
BITGET_REST_WINDOW_DAYS=1
BITGET_REST_PAGE_LIMIT=100
BITGET_REST_MAX_PAGES_PER_WINDOW=50


